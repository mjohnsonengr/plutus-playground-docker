# Setup of Plutus Playground

## Prerequisites
* A Docker installation. For Windows, the WSL 2 based engine is recommended.
* Patience. Building and fetching all the sources will take on the order of 30 minutes an can vary widely with the quality of your internet connection and the machine you are using.
* Disk space: images built here are around 12 GB. 

## Running Plutus Playground
### Build the container
Building is required only once on your machine and has to be repeated only for the purpose of updating.
```
docker-compose build --build-arg PLUTUS_GIT_COMMIT=26449c6e6e1c14d335683e5a4f40e2662b9b7e7c
```
The build argument `PLUTUS_GIT_COMMIT` refers to, in principle, any commit of [Plutus](https://github.com/input-output-hk/plutus). It is optional and defaults to the latest commit. (But beware of Docker caching!)
See further below for a list of tested commits.

### Plutus Pioneer Program
For the *Plutus Pioneer Program*, you should target a specific commit. Open the `cabal.project` file and look for `source-repository-package` with location [https://github.com/input-output-hk/plutus.git](https://github.com/input-output-hk/plutus.git).

The specified tag, e.g., `26449c6e6e1c14d335683e5a4f40e2662b9b7e7c` for week10, should be used as `PLUTUS_GIT_COMMIT`. 

| Week | PLUTUS_GIT_COMMIT                        |
|:----:|-----------------------------------------:|
| 1    | 3746610e53654a1167aeb4c6294c6096d16b0502 |
| 2    | 3746610e53654a1167aeb4c6294c6096d16b0502 |
| 3    | 3aa86304e9bfc425667051a8a94db73fcdc38878 |
| 4    | 47bee0d683857655d60c230a8b25ab7058c54d55 |
| 5    | 0c3c310cab61dbff8cbc1998a3678b367be6815a |
| 6    | 476409eaee94141e2fe076a7821fc2fcdec5dfcb |
| 7    | 530cc134364ae186f39fb2b54239fb7c5e2986e9 |
| 8    | ae35c4b8fe66dd626679bd2951bd72190e09a123 |
| 9    | 13da6d416b2b47cdb6f287ff078b9e759bb90b7f |
| 10   | 26449c6e6e1c14d335683e5a4f40e2662b9b7e7c |


### Start the container
After completing the build step, you can start the most recently built version via:
```
docker-compose up -d
```
* To visit *Plutus Playground*, navigate to [https://localhost:8009/](https://localhost:8009/) and accept the security risk.
* To visit the *Cardano documentation*, navigate to [http://localhost:8002/](http://localhost:8002/).
* To visit the *Plutus Haddock documentation*, navigate to [http://localhost:8081/plutus-haddock/index.html](http://localhost:8081/plutus-haddock/index.html).

### Shutdown
The Playground can be stopped via:
```
docker-compose down
```


## Maintenance 
In case you forgot when you last ran `docker-compose build`, you can query the current version of Plutus Playground by
```
docker exec plutus-playground-docker_server_1 git rev-parse HEAD
```
The container name *plutus-playground-docker_server_1* (auto-generated by Docker compose) might require some adjustments.

## Links
* [Cardano documentation on *Plutus Playground*](https://docs.cardano.org/projects/plutus/en/latest/plutus/tutorials/plutus-playground.html])
* [*Plutus Pioneer Program* source code](https://github.com/input-output-hk/plutus-pioneer-program)
* [*Plutus Pioneer Program* Gitbook](https://docs.plutus-community.com)
* [Alternative Docker setup of the *Plutus Playground*](https://github.com/maccam912/ppp), which may be faster if you have a fast internet connection but slow local machine.
